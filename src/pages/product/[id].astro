---
import Layout from "../../layouts/Layout.astro";
import products from "../../../products.json";
import SingularProduct from "../../components/SingularProduct.astro";

export function getStaticPaths() {
  return products.map((p) => ({ params: { id: p.id } }));
}

const { id } = Astro.params;

const product = products.find((p) => p.id === +id);
---

<Layout title="Product">
  <section class="flex flex-wrap items-center justify-center pt-20">
    <SingularProduct
      img={product.img}
      name={product.name}
      price={product.price}
      id={product.id}
    />
  </section>
</Layout>